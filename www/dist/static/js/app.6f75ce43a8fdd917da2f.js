webpackJsonp([1],{"0EnO":function(t,e){},"1xtC":function(t,e){},"2ya+":function(t,e){},"457A":function(t,e){},C3CC:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("7+uW"),a=s("//Fk"),o=s.n(a),i={computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},currentUser:function(){return this.$store.getters.user}},methods:{logout:function(){var t=this;this.$store.dispatch("logout").then(function(){t.$router.push("/login")})}},created:function(){this.$http.interceptors.response.use(void 0,function(t){return new o.a(function(e,s){throw 401===t.status&&t.config&&!t.config.__isRetryRequest&&this.$store.dispatch(logout),t})})}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav",{staticClass:"navbar navbar-expand-md navbar-light bg-white shadow-sm"},[s("div",{staticClass:"container"},[t.isLoggedIn?s("router-link",{staticClass:"nav-link",attrs:{to:{path:"/schedule"}}},[s("img",{staticClass:"d-inline-block",attrs:{src:"https://dataprocontrol.presencialaboral.es/img/logo.png",width:"auto",height:"45px"}})]):s("router-link",{staticClass:"navbar-brand",attrs:{to:{path:"/login"}}},[s("img",{staticClass:"d-inline-block",attrs:{src:"https://dataprocontrol.presencialaboral.es/img/logo.png",width:"auto",height:"45px"}})]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[t.isLoggedIn?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"schedule-records"}}},[t._v("\n                          Fichas\n                        ")])],1):t._e(),t._v(" "),t.isLoggedIn?s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"work-reports"}}},[t._v("\n                          Reportes\n                        ")])],1):t._e()]),t._v(" "),s("ul",{staticClass:"navbar-nav ml-auto"},[t.isLoggedIn?s("li",{staticClass:"nav-item dropdown"},[s("a",{staticClass:"nav-link dropdown-toggle",attrs:{id:"navbarDropdown",href:"#",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                          "+t._s(t.currentUser&&t.currentUser.name||"usuario")+" "),s("span",{staticClass:"caret"})]),t._v(" "),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"navbarDropdown"}},[s("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("\n                              Cerrar sesión\n                          ")])])]):s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"login"}}},[t._v("\n                        Login\n                      ")])],1)])])],1)]),t._v(" "),s("main",{staticClass:"py-4"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12 col-md-10 offset-md-1"},[s("div",{staticClass:"alert-container"}),t._v(" "),s("router-view")],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}]};var c=s("VU/8")(i,n,!1,function(t){s("1xtC"),s("VdO+")},null,null).exports,l=s("/ocq"),d=s("pFYg"),u=s.n(d),_=s("mvHQ"),m=s.n(_),v=s("NYxO"),h=s("mtWM"),p=s.n(h);r.a.use(v.a);var f=new v.a.Store({state:{status:"",token:localStorage.getItem("token")||"",user:localStorage.getItem("user")||{}},mutations:{auth_request:function(t){t.status="loading"},auth_success:function(t,e){t.status="success",t.token=e.token,t.user=e.user},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token=""}},actions:{login:function(t,e){var s=t.commit;return new o.a(function(t,r){s("auth_request"),p()({url:API.login,data:e,method:"POST"}).then(function(e){var r=e.data.access_token,a=e.data.user;localStorage.setItem("token",r),localStorage.setItem("user",m()(a)),p.a.defaults.headers.common.Authorization="Bearer "+r,s("auth_success",{token:e.data.access_token,user:e.data.user}),t(e)}).catch(function(t){console.log("STORE: login error",t),s("auth_error"),localStorage.removeItem("token"),r(t)})})},logout:function(t){var e=t.commit;return new o.a(function(t,s){e("logout"),localStorage.removeItem("token"),localStorage.removeItem("user"),delete p.a.defaults.headers.common.Authorization,t()})}},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status},user:function(t){return u()(t.user)==u()("")?JSON.parse(t.user):t.user}}}),g={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("The Home")])])}]},b=(s("VU/8")(null,g,!1,null,null,null).exports,{data:function(){return{email:"",password:"",remember_me:"",errors:{email:[],password:[],remember_me:[]}}},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},forgotURL:function(){return window.baseURL+"/password/reset"}},mounted:function(){this.isLoggedIn&&(this.$router.push("/schedule"),console.log("Login detected, redirect to /schedule"))},methods:{login:function(){var t=this,e=this.email,s=this.password,r=this;for(var a in this.errors)this.errors[a]=[];var o=this.$loading.show();this.$store.dispatch("login",{email:e,password:s}).then(function(){return t.$router.push("/schedule")}).catch(function(t){console.log(t);var e=t.response.data.errors;422==t.response.status&&e?(e.email&&(r.errors.email=e.email),e.password&&(r.errors.password=e.password),e.remember_me&&(r.errors.remember_me=e.remember_me)):401==t.response.status?(r.errors.email=["Estas credenciales no coinciden con nuestros registros."],r.password=""):alert("Hubo un error, por favor intente más tarde...")}).then(function(){o.hide()})}}}),C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("Acceder")]),t._v(" "),s("div",{staticClass:"card-body"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"email"}},[t._v("Correo electrónico")]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:{"is-invalid":t.errors.email.length},attrs:{id:"email",type:"email",name:"email",autocomplete:"email",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),t._l(t.errors.email,function(e){return s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[t._v(t._s(e))])])})],2)]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-4 col-form-label text-md-right",attrs:{for:"password"}},[t._v("Contraseña")]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":t.errors.password.length},attrs:{id:"password",type:"password",name:"password",required:"",autocomplete:"current-password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),t._l(t.errors.password,function(e){return s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[t._v(t._s(e))])])})],2)]),t._v(" "),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-md-6 offset-md-4"},[s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.remember_me,expression:"remember_me"}],staticClass:"form-check-input",attrs:{type:"checkbox",name:"remember",id:"remember"},domProps:{checked:Array.isArray(t.remember_me)?t._i(t.remember_me,null)>-1:t.remember_me},on:{change:function(e){var s=t.remember_me,r=e.target,a=!!r.checked;if(Array.isArray(s)){var o=t._i(s,null);r.checked?o<0&&(t.remember_me=s.concat([null])):o>-1&&(t.remember_me=s.slice(0,o).concat(s.slice(o+1)))}else t.remember_me=a}}}),t._v(" "),s("label",{staticClass:"form-check-label",attrs:{for:"remember"}},[t._v("\n                                        Recuérdame\n                                    ")]),t._v(" "),t._l(t.errors.remember_me,function(e){return s("span",{staticClass:"invalid-feedback",attrs:{role:"alert"}},[s("strong",[t._v(t._s(e))])])})],2)])]),t._v(" "),s("div",{staticClass:"form-group row mb-0"},[s("div",{staticClass:"col-md-8 offset-md-4"},[s("button",{staticClass:"btn btn-primary"},[t._v("\n                                    Acceder\n                                ")]),t._v(" "),s("a",{staticClass:"btn btn-link",attrs:{href:t.forgotURL}},[t._v("\n                                    ¿Olvidaste tu contraseña?\n                                ")])])])])])])])])])},staticRenderFns:[]};var w=s("VU/8")(b,C,!1,function(t){s("XfEr")},null,null).exports,k={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("This page is protected by auth")])])}]},x=(s("VU/8")(null,k,!1,null,null,null).exports,s("woOf")),y=s.n(x),j=s("7t+N"),E=s.n(j),R={watch:{status:function(){console.log(this.status)},schedule_record:{handler:function(){1==this.schedule_record.executed&&(this.schedule_record.motive_id=null,this.schedule_record.motive_details=null,this.submitSignIn())},deep:!0}},data:function(){return{status:"initial",errors:{executed:[],motive_id:[],motive_details:[],entry_time:[],departure_time:[],sec_entry_time:[],sec_departure_time:[]},schedule_record:{executed:null,motive_id:"",motive_details:null,entry_time:null,departure_time:null,sec_entry_time:null,sec_departure_time:null},info:{current_date:"",hours:""},message:"",motive_list:[]}},computed:{schedule_date:function(){return moment(this.info.current_date).format("L")}},mounted:function(){var t=this,e=this.$loading.show();axios.get("schedule-records/today").then(function(e){var s=e.data;"undefined"==u()(s.id)?(t.status="ready",t.fillMotives(),t.schedule_record=y()(t.schedule_record,{entry_time:s.schedule_entry_time,departure_time:s.schedule_departure_time,sec_entry_time:s.sec_schedule_entry_time,sec_departure_time:s.sec_schedule_departure_time})):t.status="sent",t.info=y()(s,{current_date:s.date,hours:s.schedule})}).catch(function(e){switch(t.status="fatal-error",e.response.status){case 400:case 403:t.message=e.response.data.message;break;case 424:t.status="hidden";break;default:t.message="Ha ocurrido un error inesperado, si este persiste contacte con el administrador del sistema."}}).then(function(){e.hide()})},methods:{expandDetails:function(){var t=E()("#schedule_record_motive").find('option[value="'+this.schedule_record.motive_id+'"]'),e=E()("#schedule_record_more_details");t.length>0&&t.attr("need_details")>0?e.parents(".more-details-container").slideDown():e.parents(".more-details-container").slideUp()},submitSignIn:function(){var t=this;if("submitting"==t.status)return console.log("please wait..."),!1;t.status="submitting",t.resetErrors();var e=new URLSearchParams;e.append("executed",t.schedule_record.executed?t.schedule_record.executed:""),e.append("motive_id",t.schedule_record.motive_id?t.schedule_record.motive_id:""),e.append("motive_details",t.schedule_record.motive_details?t.schedule_record.motive_details:""),e.append("entry_time",t.schedule_record.entry_time?t.schedule_record.entry_time:""),e.append("departure_time",t.schedule_record.departure_time?t.schedule_record.departure_time:""),e.append("sec_entry_time",t.schedule_record.sec_entry_time?t.schedule_record.sec_entry_time:""),e.append("sec_departure_time",t.schedule_record.sec_departure_time?t.schedule_record.sec_departure_time:""),axios.post("sign-on",e).then(function(s){E()("#motiveModal").modal("hide"),E()("#successModal").modal(),t.status="sent",console.log(e)}).catch(function(e,s){switch(t.status="error",e.response.status){case 422:t.errors=y()(t.errors,e.response.data.errors);break;default:alert("Ha ocurrido un error inesperado, si el error persiste contacta con el administrador del sistema.")}})},fillMotives:function(){var t=this,e=[];axios.get("motive/list").then(function(t){e=t.data}).catch(function(t){t.response.status,e={id:null,title:"Ocurrio un error al buscar los motivos de tu empresa.",need_details:!1}}).then(function(){t.motive_list=e})},hasError:function(t){return this.errors[t]&&this.errors[t].length>0},resetErrors:function(){var t={};for(var e in this.errors)t[e]=[];this.errors=y()(this.errors,t)}}},S={render:function(){var t=this,e=this,s=e.$createElement,r=e._self._c||s;return r("div",{staticClass:"text-center"},["hidden"!=e.status?r("div",[r("div",{directives:[{name:"show",rawName:"v-show",value:-1!=["ready","submitting","error"].indexOf(e.status),expression:"['ready', 'submitting', 'error'].indexOf(status) != -1 "}],staticClass:"card-body"},[r("div",{staticClass:" text-center"},[r("h2",[e._v(e._s(e.schedule_date))]),e._v(" "),r("p",{staticClass:"lead mb-2"},[e._v("¿Ha realizado este horario?")]),e._v(" "),r("p",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e.info.hours))]),e._v(" "),r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-auto"},[r("label",{staticClass:"btn btn-success exec-btn"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.schedule_record.executed,expression:"schedule_record.executed"}],attrs:{type:"radio",value:"1"},domProps:{checked:e._q(e.schedule_record.executed,"1")},on:{change:function(t){return e.$set(e.schedule_record,"executed","1")}}}),e._v("\n                            Si\n                        ")])]),e._v(" "),r("div",{staticClass:"col-auto"},[r("label",{staticClass:"btn btn-danger exec-btn",attrs:{"data-toggle":"modal","data-target":"#motiveModal"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.schedule_record.executed,expression:"schedule_record.executed"}],attrs:{type:"radio",value:"0"},domProps:{checked:e._q(e.schedule_record.executed,"0")},on:{change:function(t){return e.$set(e.schedule_record,"executed","0")}}}),e._v("\n                            No\n                        ")])]),e._v(" "),r("div",{staticClass:"col-12"},[r("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.errors.executed[0])}})])])]),e._v(" "),r("div",{staticClass:"modal fade",attrs:{id:"motiveModal",tabindex:"-1",role:"dialog","aria-labelledBy":"motiveModal","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog ",attrs:{role:"document"}},[r("div",{staticClass:"modal-content"},[e._m(0),e._v(" "),r("div",{staticClass:"modal-body"},[r("div",{staticClass:"form-group"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.schedule_record.motive_id,expression:"schedule_record.motive_id"}],class:"form-control "+(e.hasError("motive_id")?"is-invalid":""),attrs:{id:"schedule_record_motive"},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});e.$set(e.schedule_record,"motive_id",t.target.multiple?s:s[0])},function(t){return e.expandDetails()}]}},[r("option",{attrs:{value:"",disabled:""}},[e._v("Seleccione un motivo")]),e._v(" "),e._l(e.motive_list,function(t){return r("option",{attrs:{need_details:t.need_details?1:0},domProps:{value:t.id}},[e._v(e._s(t.title))])})],2),e._v(" "),r("span",{staticClass:"text-danger",domProps:{textContent:e._s(e.errors.motive_id[0])}})]),e._v(" "),r("div",{staticClass:"more-details-container",staticStyle:{display:"none"}},[r("div",{staticClass:"form-group row text-left"},[e._m(1),e._v(" "),r("div",{staticClass:"col"},[r("label",[e._v("Hora de entrada")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.schedule_record.entry_time,expression:"schedule_record.entry_time"}],class:"form-control form-control-sm "+(e.hasError("entry_time")?"is-invalid":""),attrs:{type:"time",placeholder:"00:00",required:""},domProps:{value:e.schedule_record.entry_time},on:{input:function(t){t.target.composing||e.$set(e.schedule_record,"entry_time",t.target.value)}}}),e._v(" "),r("span",{staticClass:"text-danger small",domProps:{textContent:e._s(e.errors.entry_time[0])}})]),e._v(" "),r("div",{staticClass:"col"},[r("label",[e._v("Hora de salida")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.schedule_record.departure_time,expression:"schedule_record.departure_time"}],class:"form-control form-control-sm "+(e.hasError("departure_time")?"is-invalid":""),attrs:{type:"time",placeholder:"00:00",required:""},domProps:{value:e.schedule_record.departure_time},on:{input:function(t){t.target.composing||e.$set(e.schedule_record,"departure_time",t.target.value)}}}),e._v(" "),r("span",{staticClass:"text-danger small",domProps:{textContent:e._s(e.errors.departure_time[0])}})])]),e._v(" "),e.info.sec_schedule_entry_time&&e.info.sec_schedule_departure_time?r("div",{staticClass:"form-group row text-left"},[e._m(2),e._v(" "),r("div",{staticClass:"col"},[r("label",[e._v("Hora de entrada")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.schedule_record.sec_entry_time,expression:"schedule_record.sec_entry_time"}],class:"form-control form-control-sm "+(e.hasError("sec_entry_time")?"is-invalid":""),attrs:{type:"time",placeholder:"00:00",required:""},domProps:{value:e.schedule_record.sec_entry_time},on:{input:function(t){t.target.composing||e.$set(e.schedule_record,"sec_entry_time",t.target.value)}}}),e._v(" "),r("span",{staticClass:"text-danger small",domProps:{textContent:e._s(e.errors.sec_entry_time[0])}})]),e._v(" "),r("div",{staticClass:"col"},[r("label",[e._v("Hora de salida")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.schedule_record.sec_departure_time,expression:"schedule_record.sec_departure_time"}],class:"form-control form-control-sm "+(e.hasError("sec_departure_time")?"is-invalid":""),attrs:{type:"time",placeholder:"00:00",required:""},domProps:{value:e.schedule_record.sec_departure_time},on:{input:function(t){t.target.composing||e.$set(e.schedule_record,"sec_departure_time",t.target.value)}}}),e._v(" "),r("span",{staticClass:"text-danger small",domProps:{textContent:e._s(e.errors.sec_departure_time[0])}})])]):e._e(),e._v(" "),r("div",{staticClass:"form-group"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.schedule_record.motive_details,expression:"schedule_record.motive_details"}],class:"form-control "+(e.hasError("more_details")?"is-invalid":""),attrs:{id:"schedule_record_more_details",maxlength:"250",placeholder:"Detalla el motivo"},domProps:{value:e.schedule_record.motive_details},on:{input:function(t){t.target.composing||e.$set(e.schedule_record,"motive_details",t.target.value)}}}),e._v(" "),r("span",{staticClass:"text-danger small",domProps:{textContent:e._s(e.errors.motive_details[0])}})])]),e._v(" "),r("div",{staticClass:"text-center"},[r("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),e.submitSignIn()}}},[e._v("Aceptar")])])])])])])]),e._v(" "),-1!=["initial","sent","fatal-error"].indexOf(e.status)?r("div",{staticClass:"card-body text-center justify-content-center align-items-center d-flex"},[r("span",{directives:[{name:"show",rawName:"v-show",value:"initial"==e.status,expression:"status == 'initial'"}],staticClass:"lead p-4"},[e._v("Cargando...")]),e._v(" "),"fatal-error"==e.status?r("span",{staticClass:"lead p-4"},[e._v("\n                "+e._s(e.message)+"\n            ")]):e._e(),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:"sent"==e.status,expression:"status == 'sent'"}],staticClass:"p-4"},[r("h5",{staticClass:"font-weight-bold"},[e._v("Hemos recibido tu ficha de hoy.")]),e._v(" "),r("p",{staticClass:"m-1"},[e._v("Gracias por tu colaboración")]),e._v(" "),r("p",{staticClass:"m-1"},[e._v(e._s(e.schedule_date))])])]):e._e()]):e._e(),e._v(" "),r("div",{staticClass:"modal fade",attrs:{id:"successModal",tabindex:"-1",role:"dialog","aria-labelledBy":"successModal","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog ",attrs:{role:"document"}},[r("div",{staticClass:"modal-content"},[e._m(3),e._v(" "),r("div",{staticClass:"modal-body text-left"},[1==e.schedule_record.executed?r("div",[r("h4",{staticClass:"m-0"},[e._v(e._s(e.schedule_date))]),e._v(" "),r("p",{staticClass:"lead m-0"},[e._v(e._s(e.info.hours))])]):r("div",[r("p",{staticClass:"font-weight-bold m-0"},[e._v(e._s(e.motive_list.some(function(e){return e.id==t.schedule_record.motive_id})&&e.motive_list.find(function(e){return e.id==t.schedule_record.motive_id}).title))]),e._v(" "),r("p",{staticClass:"m-0"},[e._v(e._s(e.schedule_record.motive_details))])]),e._v(" "),e._m(4)])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[this._v("Motivo")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12"},[e("h6",{staticClass:"font-weight-bold"},[this._v("Horario #1")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12"},[e("h6",{staticClass:"font-weight-bold"},[this._v("Horario #2")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[this._v("Gracias por su colaboración")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center py-4"},[e("button",{staticClass:"btn btn-primary",attrs:{"data-dismiss":"modal","aria-label":"Close"}},[this._v("Aceptar")])])}]};var P=s("VU/8")(R,S,!1,function(t){s("457A")},"data-v-88f6c1b8",null).exports,N=(s("jCvU"),{mounted:function(){var t=this;$(this.$refs.div).on("click",".action.action-view",function(){var e=$(this).parents("tr").find("td").first().text();console.log(e),e&&t.$router.push({name:"schedule-records.show",params:{id:e}})}),$("table").dataTable({processing:!0,serverSide:!0,pageLength:5,lengthMenu:[],searching:!0,language:s("tMNE").default,ajax:{dataType:"json",headers:{Authorization:"Bearer "+localStorage.getItem("token")},url:axios.defaults.baseURL+"/schedule-records"},columns:[{data:"id",name:"id"},{data:function(t,e,s,r){try{new Date(t.date);return moment(t.date).format("L")}catch(e){return t.date}},name:"date"},{data:"schedule",name:"schedule",searchable:!1,orderable:!1},{data:"executed",render:function(t){return t>0?"Si":"No"},className:"text-center",name:"executed"},{data:null,defaultContent:'<div class="d-flex justify-content-center"> <btn class="action action-view btn btn-sm btn-primary" title="Ver"><i class="oi oi-eye"></i></btn></div>',searchable:!1,orderable:!1}],initComplete:function(){var e=this.api().init().columns;this.api().columns().every(function(t){var s,r=this;switch(e[t].name){case"date":s=$("<input>").attr({type:"date",class:"form-control form-control-sm"});break;case"executed":s=$("<select></select>").attr({class:"form-control form-control-sm"});var a={"-":"",No:0,Si:1};for(var o in a)$("<option></option>").attr({value:a[o]}).text(o).appendTo(s);break;default:return}s.appendTo($(r.footer()).empty()).on("change",function(){r.search($(this).val(),!1,!1,!0).draw()})}),$(t.$refs["table-container"]).find("table").parent().addClass("table-responsive")}})}}),z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"div",staticClass:"card"},[this._m(0),this._v(" "),e("div",{staticClass:"card-body"},[e("div",{ref:"table-container"},[e("table",{ref:"table",staticClass:"table table-striped w-100"},[this._m(1),this._v(" "),this._m(2)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h5",[this._v("Fichas")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("#")]),t._v(" "),s("th",[t._v("Fecha")]),t._v(" "),s("th",[t._v("Horario")]),t._v(" "),s("th",[t._v("Realizado")]),t._v(" "),s("th")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tfoot",[s("tr",[s("th",[t._v("#")]),t._v(" "),s("th",[t._v("Fecha")]),t._v(" "),s("th",[t._v("Horario")]),t._v(" "),s("th",[t._v("Realizado")]),t._v(" "),s("th")])])}]};var F=s("VU/8")(N,z,!1,function(t){s("slcK")},null,null).exports,U={props:{id:{required:!0}},data:function(){return{schedule_record:{}}},computed:{schedule_date:function(){return moment(this.schedule_record.date).format("L")}},beforeMount:function(){this.fetchRecord()},methods:{fetchRecord:function(){var t=this,e=this.$loading.show();axios.get("schedule-records/"+t.id).then(function(e){console.log(e),t.schedule_record=y()({},e.data),console.log(t.schedule_record,t.schedule_record.id)}).catch(function(t){console.log(t.response),t.response.status,alert("Ha ocurrido un error inesperado, si el error persiste contacte con el administrador del sistema.")}).then(function(){e.hide()})}}},L={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"div",staticClass:"card"},[s("div",{staticClass:"card-header"},[s("h5",[t._v("Ficha #"+t._s(t.id))])]),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col col-md-8 offset-md-2"},[void 0===t.schedule_record.id?s("div",{staticClass:"text-center m-5"},[t._v("Cargando...")]):s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-striped"},[s("tbody",[s("tr",[s("th",[t._v("Empresa")]),t._v(" "),s("td",[t._v(t._s(t.schedule_record.company.name))])]),t._v(" "),s("tr",[s("th",[t._v("Usuario")]),t._v(" "),s("td",[t._v(t._s(t.schedule_record.user.full_name))])]),t._v(" "),s("tr",[s("th",[t._v("Fecha")]),t._v(" "),s("td",[t._v(t._s(t.schedule_date))])]),t._v(" "),s("tr",[s("th",[t._v("Horario")]),t._v(" "),s("td",[t._v(t._s(t.schedule_record.schedule))])]),t._v(" "),s("tr",[s("th",[t._v("Horario Realizado")]),t._v(" "),s("td",[t._v(t._s(t.schedule_record.working_schedule))])]),t._v(" "),s("tr",[s("th",[t._v("Horas")]),t._v(" "),s("td",[t._v(t._s(t.schedule_record.working_hours))])]),t._v(" "),s("tr",[s("th",[t._v("Realizado")]),t._v(" "),s("td",[t._v(t._s(t.schedule_record.executed?"Si":"No"))])]),t._v(" "),t.schedule_record.executed?t._e():s("tr",[s("th",[t._v("Motivo")]),t._v(" "),s("td",[s("b",[t._v(t._s(t.schedule_record.motive))]),t._v(" "),s("br"),t._v(" "),s("i",[t._v(t._s(t.schedule_record.motive_details))])])])])])]),t._v(" "),s("div",{staticClass:"text-center"},[s("a",{staticClass:"btn btn-default",on:{click:function(e){return t.$router.go(-1)}}},[t._v("Regresar")])])])])])])},staticRenderFns:[]};var H=s("VU/8")(U,L,!1,function(t){s("C3CC")},null,null).exports,I={mounted:function(){var t=this;$(this.$refs.div).on("click",".action.action-view",function(){var e=$(this).parents("tr").find("td").first().text();e&&t.$router.push({name:"work-reports.show",params:{id:e}})}),$("table").dataTable({processing:!0,serverSide:!0,pageLength:5,lengthMenu:[],searching:!0,responsive:!0,language:s("tMNE").default,ajax:{dataType:"json",headers:{Authorization:"Bearer "+localStorage.getItem("token")},url:axios.defaults.baseURL+"/work-reports"},columns:[{data:"id"},{data:function(t,e,s,r){switch(t.state){case"PENDING":return"Pendiente";case"SIGNED":return"Firmado";default:return"-"}},name:"state"},{data:function(t,e,s,r){return t.report_date},name:"report_date"},{data:null,defaultContent:'<div class="d-flex justify-content-center"> <btn class="action action-view btn btn-sm btn-primary" title="Ver"><i class="oi oi-eye"></i></btn></div>',searchable:!1,orderable:!1}],initComplete:function(){var e=this.api().init().columns;this.api().columns().every(function(t,s){var r,a=this;switch(e[t].name||e[t].data){case"report_date":r=$("<input>").attr({type:"date",class:"form-control form-control-sm"});break;case"state":r=$("<select></select>").attr({class:"form-control form-control-sm"});var o={"-":null,Pendiente:"PENDING",Firmado:"SIGNED"};for(var i in o)$("<option></option>").attr({value:o[i]||""}).text(i).appendTo(r);break;default:return}r.appendTo($(a.footer()).empty()).on("change",function(){a.search($(this).val(),!1,!1,!0).draw()})}),$(t.$refs["table-container"]).find("table").parent().addClass("table-responsive")}})}},M={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"div",staticClass:"card"},[this._m(0),this._v(" "),e("div",{staticClass:"card-body"},[e("div",{ref:"table-container"},[e("table",{ref:"table",staticClass:"table table-striped w-100"},[this._m(1),this._v(" "),this._m(2)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("h5",[this._v("Reportes")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("#")]),this._v(" "),e("th",[this._v("Estado")]),this._v(" "),e("th",[this._v("Fecha")]),this._v(" "),e("th")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tfoot",[e("tr",[e("th",[this._v("#")]),this._v(" "),e("th",[this._v("Estado")]),this._v(" "),e("th",[this._v("Fecha")]),this._v(" "),e("th")])])}]};var T=s("VU/8")(I,M,!1,function(t){s("2ya+")},null,null).exports,A={props:{id:{required:!0}},data:function(){return{work_report:{}}},computed:{pdfUrl:function(){return window.baseURL+"/work-reports/"+this.work_report.uuid+"/pdf"}},beforeMount:function(){this.fetchRecord()},methods:{fetchRecord:function(){var t=this,e=this.$loading.show();axios.get("work-reports/"+t.id).then(function(e){console.log(e),t.work_report=y()({},e.data),console.log(t.work_report,t.work_report.id)}).catch(function(t){console.log(t.response),t.response.status,alert("Ha ocurrido un error inesperado, si el error persiste contacte con el administrador del sistema.")}).then(function(){e.hide()})}}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"div",staticClass:"card"},[s("div",{staticClass:"card-header"},[t.work_report.id?s("h5",[s("span",{staticClass:"float-right"},[s("a",{staticClass:"action btn btn-sm btn-danger mr-2",attrs:{href:t.pdfUrl,title:"Ver PDF"}},[s("i",{staticClass:"oi oi-document"})])]),t._v("\n            Reporte de "+t._s(t.work_report.user.full_name)+" | "+t._s(t.work_report.date)+"\n        ")]):s("h5",[t._v("Cargando...")])]),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[t.work_report.id?s("work-report-details",{attrs:{work_report:t.work_report,actions:1}}):s("div",{staticClass:"text-center m-5"},[t._v("Cargando...")]),t._v(" "),s("div",{staticClass:"text-center"},[s("a",{staticClass:"btn btn-default",on:{click:function(e){return t.$router.go(-1)}}},[t._v("Regresar")])])],1)])])])},staticRenderFns:[]},D=s("VU/8")(A,q,!1,null,null,null).exports,O={data:function(){return{context:null,clickX:[],clickY:[],clickDrag:[],painting:null}},computed:{canvas:function(){return this.$refs.canvas},hasSign:function(){return this.clickX.length>0}},mounted:function(){var t=this;this.context=this.canvas.getContext("2d"),$(this.canvas).on("mousedown touchstart",function(e){t.painting=!0;var s=e.pageX-$(this).offset().left,r=e.pageY-$(this).offset().top;t.addClick(s,r),t.draw()}).on("mouseleave mouseup touchend touchleave",function(){t.painting=!1}).on("mousemove touchmove",function(e){e.preventDefault();var s=e.pageX||e.originalEvent.touches[0].pageX,r=e.pageY||e.originalEvent.touches[0].pageY;if(t.painting){var a=s-$(this).offset().left,o=r-$(this).offset().top;t.addClick(a,o,!0),t.draw()}})},beforeDestroy:function(){$(this.canvas).off()},methods:{addClick:function(t,e,s){t<0&&(t=e=NaN),this.clickX.push(t),this.clickY.push(e),this.clickDrag.push(s)},draw:function(){this.clearCanvas(),this.context.strokeStyle="#111",this.context.lineJoin="round",this.context.lineWidth=.0085*this.canvas.getAttribute("height");for(var t=0;t<this.clickX.length;t++)this.context.beginPath(),this.clickDrag[t]&&t?this.context.moveTo(this.clickX[t-1],this.clickY[t-1]):this.context.moveTo(Math.abs(this.clickX[t]-1),Math.abs(this.clickY[t])),this.context.lineTo(this.clickX[t],this.clickY[t]),this.context.closePath(),this.context.stroke()},clearCanvas:function(){this.context.clearRect(0,0,1.5*$(this.canvas).outerWidth(),1.5*$(this.canvas).outerHeight())},eraseCanvas:function(){this.clearCanvas(),this.clickX=[],this.clickY=[],this.clickDrag=[]},calibrateCanvas:function(){var t=this.canvas.getAttribute("height");this.canvas.setAttribute("height",$(this.canvas).innerHeight()),this.canvas.setAttribute("width",$(this.canvas).innerWidth()),this.context=this.canvas.getContext("2d");for(var e=this.canvas.getAttribute("height")/t,s=0;s<clickX.length;s++)this.clickX[s]=this.clickX[s]*e,this.clickY[s]=this.clickY[s]*e;this.draw()}}},V={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("canvas",{ref:"canvas",staticClass:"mx-auto d-block",staticStyle:{border:"2px solid black","max-width":"100%"},attrs:{id:"firma",width:"320",height:"180"}})])},staticRenderFns:[]},X={name:"ReportToSign",components:{SignCanvas:s("VU/8")(O,V,!1,null,null,null).exports},data:function(){return{state:"initial",work_report:!1,canvas:null,firmado:!1}},computed:{user:function(){return this.$store.getters.user},user_fullname:function(){return this.$store.getters.user.name+" "+this.$store.getters.user.last_name},company_name:function(){return this.$store.getters.user.company_name}},created:function(){var t=this;t.$http.get("work_report_to_sign").then(function(e){e.data.id&&(t.work_report=y()({},e.data),t.state="ready")}).catch(function(t,e){switch(t.response.status){case 404:break;default:alert("Ha ocurrido un error inesperado, si el error persiste contacta con el administrador del sistema.")}})},mounted:function(){},updated:function(){this.work_report.id&&($(this.$refs["modal-firma"]).modal({show:!0}),"success"==this.state&&($(this.$refs["modal-firma-success"]).modal("show"),setTimeout(function(t){t.$router.go()},5e3,this)))},methods:{__:function(t){return t},resetFirma:function(){this.$refs.canvas.eraseCanvas()},firmarReporte:function(t){var e=this,s=this.$refs.canvas.canvas.toDataURL(),r=new URLSearchParams;if(r.append("sign",s),this.$refs.canvas.hasSign){var a=this.$loading.show();this.$http.post("/work-reports/"+t+"/sign",r).then(function(t){$(e.$refs["modal-firma"]).modal("hide"),e.state="success"}).catch(function(t){alert("Hubo un error.")}).then(function(){a.hide()})}else alert("Por favor, firme primero...")}}},B={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{ref:"modal-firma",staticClass:"modal fade",attrs:{id:"modal-firma",tabindex:"-1",role:"dialog","aria-labelledby":"signReportModalTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog mx-auto",staticStyle:{"max-width":"90%"},attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header text-center"},[t.work_report.id?s("h5",{staticClass:"my-1"},[t._v("Reporte de "+t._s(t.work_report.user.full_name)+" | "+t._s(t.work_report.date))]):s("h5",{staticClass:"my-1"},[t._v("Cargando...")])]),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 offset-md-1"},[t.work_report.id?s("work-report-details",{attrs:{work_report:t.work_report}}):s("div",{staticClass:"text-center m-5"},[t._v("Cargando...")])],1)])])]),t._v(" "),t.work_report.id?s("div",{staticClass:"text-center"},[s("h6",{staticClass:"text-center my-4"},[t._v("Por favor, firme si está de acuerdo:")]),t._v(" "),s("SignCanvas",{ref:"canvas"}),t._v(" "),s("button",{staticClass:"btn btn-xs mt-2",on:{click:t.resetFirma}},[t._v("Limpiar")])],1):t._e()]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Salir")]),t._v(" "),t.work_report.id?s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.firmarReporte(t.work_report.id)}}},[t._v("Guardar")]):t._e()])])])]),t._v(" "),"success"==t.state?s("div",{ref:"modal-firma-success",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"signReportModalTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog mx-auto",staticStyle:{"max-width":"90%"},attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),s("div",{staticClass:"modal-body"},[s("p",{staticClass:"px-2 text-center"},[t._v("Has firmado "),s("b",[t._v('"Reporte de '+t._s(t.work_report.user.full_name)+" | "+t._s(t.work_report.date)+'"')]),t._v(" de forma exitosa.")]),t._v(" "),s("p",{staticClass:"my-0 pt-2 pb-4 text-center"},[t._v("Este modal se cerrará en unos segundos...")])])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title text-center",attrs:{id:"signReportModalTitle"}},[e("b",[this._v("Tienes un reporte por firmar")])]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title text-center",attrs:{id:"signReportModalTitle"}},[e("b",[this._v("Hemos recibido tu firma.")])])])}]};var Y={computed:{user_fullname:function(){return this.$store.getters.user.name+" "+this.$store.getters.user.last_name},company_name:function(){return this.$store.getters.user.company_name}},name:"schedule-view",components:{ScheduleRecordForm:P,ReportToSign:s("VU/8")(X,B,!1,function(t){s("Tsnz")},"data-v-66b0d05e",null).exports}},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[t._v("Bienvenido, "+t._s(t.user_fullname))]),t._v(" "),s("div",{staticClass:"card-body"},[t._e(),t._v(" "),s("div",{staticClass:"text-center"},[s("p",{staticClass:"m-0 font-weight-bold"},[t._v("Empleado")]),t._v(" "),s("p",{},[t._v(t._s(t.user_fullname)+" ")]),t._v(" "),s("p",{staticClass:"m-0 font-weight-bold"},[t._v("Empresa")]),t._v(" "),s("p",[t._v(t._s(t.company_name))])]),t._v(" "),s("ScheduleRecordForm")],1),t._v(" "),t._m(0)])])]),t._v(" "),s("ReportToSign")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-footer text-center border-none"},[this._v("\n                    Si tienes alguna duda o consulta puedes escribirnos a "),e("a",{attrs:{href:"mailto:contacto@dataprolegal.com"}},[this._v("contacto@dataprolegal.com")])])}]},W=s("VU/8")(Y,G,!1,null,null,null).exports;r.a.use(l.a);var Z=new l.a({routes:[{path:"/",name:"home",component:w},{path:"/login",name:"login",component:w},{path:"/schedule",name:"schedule",component:W},{path:"/schedule-records",name:"schedule-records",component:F},{path:"/schedule-records/:id",name:"schedule-records.show",component:H,props:!0},{path:"/work-reports",name:"work-reports",component:T},{path:"/work-reports/:id",name:"work-reports.show",component:D,props:!0}]});Z.beforeEach(function(t,e,s){if($("body").width()<768&&$("#navbarSupportedContent").hasClass("show")&&$("#navbarSupportedContent").siblings("[data-toggle]").click(),t.matched.some(function(t){return t.meta.requiresAuth})){if(f.getters.isLoggedIn)return void s();s("/login")}else s()});var J=Z,K=s("Zrlr"),Q=s.n(K),tt=function t(){Q()(this,t)};tt.login="/login";var et=tt,st=s("ZZvs"),rt=s.n(st);s("kBzv"),window.axios=p.a,window.API=et,window.baseURL="https://dataprocontrol.presencialaboral.es",window.apiURL=window.baseURL+"/api",window.Vue=r.a,r.a.config.productionTip=!1,r.a.component("work-report-details",s("UNb1").default),r.a.component("loading",rt.a),axios.defaults.baseURL=window.baseURL+"/api/auth",r.a.prototype.$http=axios;var at=localStorage.getItem("token");if(at&&(r.a.prototype.$http.defaults.headers.common.Authorization="Bearer "+at),r.a.use(rt.a,{color:"#00a4f4",loader:"dots"}),new r.a({router:J,store:f,render:function(t){return t(c)}}).$mount("#app"),"file:"===window.location.protocol||"3000"===window.location.port){var ot=document.createElement("script");ot.setAttribute("type","text/javascript"),ot.setAttribute("src","../../cordova.js"),document.body.appendChild(ot)}({initialize:function(){document.addEventListener("deviceready",this.onDeviceReady.bind(this),!1)},onDeviceReady:function(){this.receivedEvent("deviceready"),this.pushNotification()},receivedEvent:function(t){console.log("Received Event: "+t)},pushNotification:function(){cordova.plugins.notification.local.schedule({title:"My first notification",text:"Thats pretty easy...",foreground:!0})}}).initialize()},SYh3:function(t,e){},Tsnz:function(t,e){},UNb1:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={props:{work_report:{type:Object,required:!0},actions:{default:!1}},computed:{signed_date:function(){return moment(this.work_report.signed_at.date).format("LLL")}},methods:{moment:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return moment(t)})}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",[t._v("Empresa / Trabajador")]),t._v(" "),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table table-striped table-sm"},[s("tbody",[s("tr",[s("th",[t._v("Empresa")]),t._v(" "),s("td",[t._v(t._s(t.work_report.user.companies.map(function(t){return t.name}).join(",")))]),t._v(" "),s("th",[t._v("Usuario")]),t._v(" "),s("td",[t._v(t._s(t.work_report.user.full_name))])]),t._v(" "),s("tr",[s("th",[t._v("CIF")]),t._v(" "),s("td",[t._v(t._s(t.work_report.user.companies.map(function(t){return t.cif}).join(",")))]),t._v(" "),s("th",[t._v("CIF")]),t._v(" "),s("td",[t._v(t._s(t.work_report.user.dni))])])])]),t._v(" "),t.work_report.is_signed?s("p",[t._v("Firmado el "+t._s(t.signed_date))]):t._e()]),t._v(" "),s("h4",[t._v("Jornadas Realizadas")]),t._v(" "),s("div",{staticClass:"table-responsive",attrs:{id:"data-table"}},[s("table",{staticClass:"table table-striped table-bordered table-sm text-center"},[s("thead",[s("tr",[s("th",{attrs:{rowspan:"2"}},[t._v("Día")]),t._v(" "),s("th",{attrs:{colspan:"3"}},[t._v("Horario #1")]),t._v(" "),t.work_report.has_two_hours?s("th",{attrs:{colspan:"3"}},[t._v("Horario #2")]):t._e(),t._v(" "),t.actions?s("th",{attrs:{rowspan:"2"}},[t._v("Acciones")]):t._e()]),t._v(" "),s("tr",[s("th",[t._v("Hora de Entrada")]),t._v(" "),s("th",[t._v("Hora de Salida")]),t._v(" "),s("th",[t._v("Horas")]),t._v(" "),t.work_report.has_two_hours?s("th",[t._v("Hora de Entrada")]):t._e(),t._v(" "),t.work_report.has_two_hours?s("th",[t._v("Hora de Salida")]):t._e(),t._v(" "),t.work_report.has_two_hours?s("th",[t._v("Horas")]):t._e()])]),t._v(" "),s("tbody",t._l(t.work_report.schedule_records,function(e){return s("tr",[s("td",[t._v(t._s(t.moment(e.date).format("L")))]),t._v(" "),s("td",[t._v(t._s(e.entry_time))]),t._v(" "),s("td",[t._v(t._s(e.departure_time))]),t._v(" "),s("td",[t._v(t._s(e.first_working_hours))]),t._v(" "),t.work_report.has_two_hours?s("td",[t._v(t._s(e.sec_entry_time))]):t._e(),t._v(" "),t.work_report.has_two_hours?s("td",[t._v(t._s(e.sec_departure_time))]):t._e(),t._v(" "),t.work_report.has_two_hours?s("td",[t._v(t._s(e.second_working_hours))]):t._e(),t._v(" "),t.actions?s("td",[s("div",{staticClass:"d-md-flex justify-content-md-center"},[s("router-link",{staticClass:"action btn btn-sm btn-primary mr-2",attrs:{to:{name:"schedule-records.show",params:{id:e.id}},title:"Ver"}},[s("i",{staticClass:"oi oi-eye"})])],1)]):t._e()])}),0)])])])},staticRenderFns:[]},o=s("VU/8")(r,a,!1,null,null,null);e.default=o.exports},"VdO+":function(t,e){},XfEr:function(t,e){},kBzv:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("jCvU"),a=(s.n(r),s("qb6w")),o=(s.n(a),s("0EnO")),i=(s.n(o),s("sZXP")),n=(s.n(i),s("SYh3"));s.n(n);try{window.Popper=s("Zgw8").default,window.$=window.jQuery=s("7t+N"),window.moment=s("PJh5"),moment.locale("es"),s("K3J8")}catch(t){}},qb6w:function(t,e){},sZXP:function(t,e){},slcK:function(t,e){},tMNE:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={sProcessing:"Procesando...",sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",sEmptyTable:"Ningún dato disponible en esta tabla =(",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"},buttons:{copy:"Copiar",colvis:"Visibilidad"}}},uslO:function(t,e,s){var r={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function a(t){return s(o(t))}function o(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(r)},a.resolve=o,t.exports=a,a.id="uslO"}},["NHnr"]);